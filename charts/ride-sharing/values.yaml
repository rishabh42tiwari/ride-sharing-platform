# Global configuration
global:
  namespace: ride-sharing-dev
  environment: development
  imagePullPolicy: Never  # For local development with Minikube/Kind


# API Gateway
apiGateway:
  enabled: true
  name: api-gateway
  replicas: 1
  image:
    repository: ride-sharing/api-gateway
    tag: latest
  service:
    type: LoadBalancer
    port: 8081
  resources:
    requests:
      memory: "128Mi"
      cpu: "125m"
    limits:
      memory: "128Mi"
      cpu: "125m"


# Driver Service
driverService:
  enabled: true
  name: driver-service
  replicas: 1
  image:
    repository: ride-sharing/driver-service
    tag: latest
  service:
    type: ClusterIP
    port: 9092
    name: grpc
  resources:
    requests:
      memory: "64Mi"
      cpu: "100m"
    limits:
      memory: "128Mi"
      cpu: "200m"

# Payment Service
paymentService:
  enabled: true
  name: payment-service
  replicas: 1
  image:
    repository: ride-sharing/payment-service
    tag: latest
  service:
    type: ClusterIP
    port: 9093
    name: grpc
  resources:
    requests:
      memory: "64Mi"
      cpu: "100m"
    limits:
      memory: "128Mi"
      cpu: "200m"

# Trip Service
tripService:
  enabled: true
  name: trip-service
  replicas: 1
  image:
    repository: ride-sharing/trip-service
    tag: latest
  service:
    type: ClusterIP
    port: 9091
    name: grpc
  resources:
    requests:
      memory: "64Mi"
      cpu: "100m"
    limits:
      memory: "128Mi"
      cpu: "200m"


# Web Frontend
web:
  enabled: true
  name: web
  replicas: 1
  image:
    repository: ride-sharing/web
    tag: latest
  service:
    type: LoadBalancer
    port: 3000
  resources:
    requests:
      memory: "128Mi"
      cpu: "125m"
    limits:
      memory: "256Mi"
      cpu: "250m"

# RabbitMQ
rabbitmq:
  enabled: true
  name: rabbitmq
  replicas: 1
  image:
    repository: rabbitmq
    tag: 3-management
  service:
    amqpPort: 5672
    managementPort: 15672
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Jaeger
jaeger:
  enabled: true
  name: jaeger
  replicas: 1
  image:
    repository: jaegertracing/all-in-one
    tag: latest
  service:
    ports:
      - name: jaeger-ui
        port: 16686
      - name: collector
        port: 14268
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Application Configuration (ConfigMap)
appConfig:
  environment: "development"
  jaegerEndpoint: "http://jaeger:14268/api/traces"
  gatewayHttpAddr: ":8081"
  stripeSuccessUrl: "http://localhost:3000?payment=success"
  stripeCancelUrl: "http://localhost:3000?payment=cancel"

# Secrets Configuration
# IMPORTANT: Override these values in values-dev.yaml or values-prod.yaml
# DO NOT commit actual secret values to git!
secrets:
  rabbitmq:
    enabled: false
    username: ""
    password: ""
    uri: ""
  
  externalApis:
    enabled: false
    osrm: ""
  
  stripe:
    enabled: false
    secretKey: ""
    webhookKey: ""
  
  mongodb:
    enabled: false
    uri: ""